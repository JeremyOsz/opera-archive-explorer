# Data Files

This directory contains bundled data files used by the application.

## Files

### `archive-cache.json`
- **Size**: ~518KB
- **Content**: Lightweight cache of all 846 opera recordings
- **Generated by**: `scripts/build-lightweight-cache.ts`
- **Updated**: When running `npm run cache-archive`
- **Used by**: `cache-loader.ts`

Contains:
- Basic metadata (title, creator, date, language)
- Thumbnails and images
- Subject tags

### `work-lookup.json`
- **Size**: ~391KB  
- **Content**: Pre-computed work grouping table (733 distinct works)
- **Generated by**: `scripts/generate-work-lookup.ts`
- **Updated**: When running `npm run generate-lookup` or during build
- **Used by**: `work-lookup-loader.ts`

Contains:
- Grouped works with normalized titles
- Recording identifiers per work
- Years, languages, most recent recording per work

## Generation

Both files are auto-generated:

```bash
# Regenerate cache
npm run cache-archive

# Regenerate lookup table
npm run generate-lookup

# Build does both
npm run build
```

## Purpose

These bundled JSON files provide:
- **Fast loading** - Data bundled with the app, no API calls needed
- **Offline support** - Works without internet connection
- **Quick search** - Pre-indexed data for instant results
- **Work grouping** - Pre-computed normalizations and groupings

## Version Control

Both files are committed to git for instant loading. They're regenerated when:
- Cache data needs updating
- Archive structure changes
- New works are added
